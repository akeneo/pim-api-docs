get:
  summary: Get the list of the records of a reference entity
  operationId: "get_reference_entity_records"
  tags:
    - Reference entity records
  x-versions:
    - "3.0"
  x-ee: true
  description: This endpoint allows you to get a list of records of a given reference entity. Records are paginated and can be filtered.
  parameters:
    - name: search
      in: query
      description: Filter records of the reference entity, for more details see the <a href="/documentation/filter.html#filter-reference-entity-records">Filters</a> section
      required: false
      type: string
    - name: channel
      in: query
      type: string
      description: Filter attribute values to return scopable attributes for the given channel as well as the non localizable/non scopable attributes, for more details see the <a href="/documentation/filter.html#filter-attribute-values-by-channel">Filter attribute values by channel</a> section
      required: false
    - name: locales
      in: query
      type: string
      description: Filter attribute values to return localizable attributes for the given locales as well as the non localizable/non scopable attributes, for more details see the <a href=/documentation/filter.html#filter-attribute-values-by-locale">Filter attribute values by locale</a> section
      required: false
    - $ref: '#/parameters/reference_entity_code'
    - $ref: '#/parameters/search_after'
    - $ref: '#/parameters/limit'
  responses:
    200:
      description: Return the records of the given reference entity paginated
      schema:
        title: Reference entity record
        type: object
        allOf:
          - $ref: '#/definitions/SearchAfterPagination'
          - properties:
              _embedded:
                type: object
                properties:
                  _items:
                    type: array
                    items:
                      $ref: '#/definitions/ReferenceEntityRecordList'
      examples: {
        _links: {
          self: {
            href: "https://demo.akeneo.com/api/rest/v1/reference-entities/brands/records?limit=3"
          },
          first: {
            href: "https://demo.akeneo.com/api/rest/v1/reference-entities/brands/records?limit=3"
          },
          next: {
            href: "https://demo.akeneo.com/api/rest/v1/reference-entities/brands/records?limit=3&search_after=2x088w%3D%3D"
          }
        },
        _embedded: {
          _items: [
            {
              "_links": {
                "self": {
                  "href": "https://demo.akeneo.com/api/rest/v1/reference-entities/brands/records/kartell"
                },
                "main_image_download": {
                  "href": "https://demo.cloud.akeneo.com/api/rest/v1/reference-entities-media-files/0/c/b/0/0cb0c0e115dedba676f8d1ad8343ec207ab54c7b_image.jpg"
                }
              },
              "code": "kartell",
              "labels":{
                "en_US": "Kartell",
                "fr_FR": "Kartell"
              },
              "main_image": "0/c/b/0/0cb0c0e115dedba676f8d1ad8343ec207ab54c7b_image.jpg",
              "values": {
                "description": [
                  {
                    "data": "The contemporary Italian furniture brand",
                    "locale": "en_US",
                    "channel": null
                  },
                  {
                    "data": "L'éditeur de meubles comtemporain italien",
                    "locale": "fr_FR",
                    "channel": null
                  }
                ],
                "country": [
                  {
                    "locale": null,
                    "channel": null,
                    "data": "italy"
                  }
                ]
              }
            },
            {
              "_links": {
                "self": {
                  "href": "https://demo.akeneo.com/api/rest/v1/reference-entities/brands/records/usm"
                },
                "main_image_download": {
                  "href": "https://demo.cloud.akeneo.com/api/rest/v1/reference-entities-media-files/9/c/g/1/0cb0c0e115dedba76f8d1ad8343ec897abc43bv4_image.jpg"
                }
              },
              "code": "usm",
              "labels":{
                "en_US": "USM",
                "fr_FR": "USM"
              },
              "main_image": "9/c/g/1/0cb0c0e115dedba76f8d1ad8343ec897abc43bv4_image.jpg",
              "values": {
                "description": [
                  {
                    "data": "Modular furniture from Switzerland for your home and office",
                    "locale": "en_US",
                    "channel": null
                  },
                  {
                    "data": "L'éditeur de meubles modulaires suisse pour votre intérieur et pour les entreprises",
                    "locale": "fr_FR",
                    "channel": null
                  }
                ],
                "country": [
                  {
                    "locale": null,
                    "channel": null,
                    "data": "switzerland"
                  }
                ]
              }
            },
            {
              "_links": {
                "self": {
                  "href": "https://demo.akeneo.com/api/rest/v1/reference-entities/brands/records/ligneroset"
                },
                "main_image_download": {
                  "href": "https://demo.cloud.akeneo.com/api/rest/v1/reference-entities-media-files/4/b/0/1/0cb0c0e115dedde78b8d1ad8343ec980cd5daa54_image.jpg"
                }
              },
              "code": "ligneroset",
              "labels":{
                "en_US": "Ligne roset",
                "fr_FR": "Ligne roset"
              },
              "main_image": "4/b/0/1/0cb0c0e115dedde78b8d1ad8343ec980cd5daa54_image.jpg",
              "values": {
                "description": [
                  {
                    "data": "Very well known French brand of modern and luxury furniture",
                    "locale": "en_US",
                    "channel": null
                  },
                  {
                    "data": "La marque renommée des meubles de luxe à la française",
                    "locale": "fr_FR",
                    "channel": null
                  }
                ],
                "country": [
                  {
                    "locale": null,
                    "channel": null,
                    "data": "france"
                  }
                ]
              }
            }
          ]
        }
      }
    401:
      $ref: "#/responses/401Error"
    406:
      $ref: "#/responses/406Error"
patch:
  summary: Update/create several reference entity records
  operationId: "patch_reference_entity_records"
  tags:
    - Reference entity records
  x-versions:
    - "3.0"
  x-ee: true
  description: This endpoint allows you to update and/or create several records of one given reference entity at once. Learn more about <a href="/documentation/update.html#patch-reference-entity-record-values">Update behavior</a>. Note that if the record does not already exist for the given reference entity, it creates it.
  x-body-by-line: Contains several lines, each line is a reference entity record in JSON standard format
  parameters:
    - $ref: '#/parameters/reference_entity_code'
    - name: body
      in: body
      schema:
        $ref: ../definitions/reference_entity_record.yaml
        x-examples:
          x-example-1:
            '{"code":"kartell","values":{"description":[{"channel":"ecommerce","locale":"en_US","data":"The contemporary Italian furniture brand"}]}}'
          x-example-2:
            '{"code":"calligaris","labels":{"en_US":"Calligaris","fr_FR":"Calligaris"}}'
          x-example-3:
            '{"code":"alessi"}'
  responses:
    200:
      description: OK
      x-details: Returns a plain text response whose lines are JSON containing the status of each update or creation
      x-no-entity: true
      schema:
        $ref: "#/definitions/ErrorByLine"
      examples:
        x-example-1:
          '{"line":1,"code":"cap","status_code":204}'
        x-example-2:
          '{"line":2,"code":"calligaris","status_code":422,"message":"Property "group" does not exist."}'
        x-example-3:
          '{"line":3,"code":"alessi","status_code":201}'
    401:
      $ref: "#/responses/401Error"
    413:
      $ref: "#/responses/413Error"
    415:
      $ref: "#/responses/415ErrorStream"
