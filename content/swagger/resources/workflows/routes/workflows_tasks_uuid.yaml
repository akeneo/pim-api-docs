patch:
  summary: Update a Workflow Task's Status (Approve, Reject, Complete)
  operationId: "patch_workflows_tasks__uuid_"
  tags:
    - Workflow task
  x-versions:
    - "SaaS"
  x-ee: true
  description: >
    Performs a state transition on a task.<br>
    <ul>
      <li>To approve a 'review' task, set status to <code>approved</code>.</li>
      <li>To complete an 'enrichment' task, set status to <code>completed</code>.</li>
      <li>To reject a 'review' task, set status to <code>rejected</code> and provide <code>send_back_to_step_uuid</code>.</li>
    </ul>
  parameters:
    - $ref: '#/parameters/uuid'
    - name: body
      in: body
      schema:
        type: object
        required:
          - status
        properties:
          status:
            type: string
            enum: ["completed", "approved", "rejected"]
            description: The new status of the workflow task ("completed", "approved", or "rejected").
          send_back_to_step_uuid:
            type: string
            description: (required only for rejected status) The UUID of the workflow step to which the task should be returned.
        example:
          [
            {
              status: "completed"
            },
            {
              status: "approved"
            },
            {
              status: "rejected",
              send_back_to_step_uuid: "123e4567-e89b-12d3-a456-426614174000"
            }
          ]
  responses:
    204:
      $ref: "#/responses/NoContentAfterUpdate"
    400:
      $ref: "#/responses/400Error"
    401:
      $ref: "#/responses/401Error"
    403:
      $ref: "#/responses/403Error"
    415:
      $ref: "#/responses/415Error"
    422:
      $ref: "#/responses/422Error"
