type: object
required: ["code"]
properties:
  code:
    type: string
    description: Asset family code
    x-immutable: true
  labels:
    type: object
    description: Asset family labels for each locale
    x-validation-rules: The `localeCode` is the code of an existing and activated locale
    default: {}
    properties:
      localeCode:
        type: string
        description: Asset family label for the locale `localeCode`
  product_link_rules:
    type: array
    description: The rules that will be run after the asset creation, in order to automatically link the assets of this family to a set of products. To understand the format of this property, see <a href='/beta/asset-manager/product-link-rule-focus.html'>here</a>.
    x-validation-rules: To know more about the validation of this property, take a look at our product link rule format.
    default: {}
    items:
      type: object
      properties:
        product_selections:
          type: array
          description: The product selection to which the assets of the asset family to be automatically linked. More details <a href='/beta/asset-manager/product-link-rule-focus.html#product-selection'>here</a>.
          items:
            type: object
            required: ["field", "operator", "value"]
            properties:
              field:
                type: string
              operator:
                type: string
              value:
                type: string
              locale:
                type: string
              channel:
                type: string
        assign_assets_to:
          type: array
          description: The product value in which your assets will be assigned. More details <a href='/beta/asset-manager/product-link-rule-focus.html#product-value-assignment'>here</a>.
          items:
            type: object
            required: ["attribute","mode"]
            properties:
              attribute:
                type: string
              locale:
                type: string
              channel:
                type: string
              mode:
                type: string
  transformations:
    type: array
    description: TODO
    x-validation-rules: TODO
    default: {}
    items:
      type: object
      properties:
        label:
          type: string
          description: The name of the transformation
        source:
          type: object
          description: TODO
          properties:
            attribute:
              type: string
              description: TODO
            channel:
              type: string
              description: TODO
            locale:
              type: string
              description: TODO
        target:
          type: object
          description: TODO
          properties:
            attribute:
              type: string
              description: TODO
            channel:
              type: string
              description: TODO
            locale:
              type: string
              description: TODO
        operations:
            type: object
            description: TODO
            properties:
              type:
                type: string
                description: TODO
              parameters:
                type: object
                description: TODO
                properties:
                    colorspace:
                      type: string
                    width:
                      type: string
                    height:
                      type: string
                    scale:
                      type: string
                    resolution-unit:
                      type: string
                    resolution-x:
                      type: string
                    resolution-y:
                      type: string
example: {
  "code": "model_pictures",
  "labels": {
    "en_US": "Model pictures",
    "fr_FR": "Photographies en pied"
  },
  "product_link_rules":
  [
    {
      "product_selections": [
        {
          "field": "sku",
          "operator": "EQUALS",
          "value": "{{product_ref}}"
        }
      ],
      "assign_assets_to": [
        {
          "attribute": "model_pictures",
          "mode": "replace"
        }
      ]
    }
  ],
  "transformations": [
    {
      "source": {
        "attribute": "main_image"
      },
      "target": {
        "attribute": "thumbnail"
      },
      "operations": [
        {
          "type": "resize",
          "parameters": {
            "width": "150px",
            "height": "150px"
          }
        },
        {
          "type": "colorspace",
          "parameters": {
            "colorspace": "grey"
          }
        }
      ]
    }
  ]
}
